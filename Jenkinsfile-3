pipeline {
  agent { dockerfile true }
  stages {
    stage('Tooling') {
      steps {
        sh '''
          node --version
          git --version
          curl --version
          curl -sSfL https://raw.githubusercontent.com/anchore/grype/main/install.sh | sh -s -- -b /usr/local/bin
          grype version
          curl -sSfL https://raw.githubusercontent.com/anchore/syft/main/install.sh | sh -s -- -b /usr/local/bin
          syft version
          curl -fsSL https://get.docker.com/ | sh
        '''
      }
    }
    stage('Docker Version') {
      steps {
        sh 'docker --version'
      }
    }
  }
}
